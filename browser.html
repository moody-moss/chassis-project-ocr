<!doctype html>
<html>

<head>
    <!-- <meta http-equiv="Content-Security-Policy"
        content="default-src *; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://qwe-1.herokuapp.com/static/zxing-umd-browser.js"> -->
    <meta charset="UTF-8">
    <meta http-equiv="content-type" content="text/javascript">
    <meta http-equiv="Content-Security-Policy"
        content="script-src 'self' 'unsafe-inline' https://qwe-1.herokuapp.com/static/zxing-umd-browser.js">
    <script src='https://qwe-1.herokuapp.com/static/zxing-umd-browser.js' charset="UTF-8"></script>

</head>

<body>

    <img id='img' crossorigin='anonymous' src='https://qwe-1.herokuapp.com/data-matrix.jpg'></img>
    <p id='result' class='result'> Result </p>
    <script src="browser.js"></script>


    <!-- https://unpkg.com/@zxing/library@0.18.5/umd/index.js -->
    <!-- https://qwe-1.herokuapp.com/static/zxing-umd-browser.js -->

    <!-- <script type='text/javascript' >

        //-----------------------------------------------------------------------------

        window.addEventListener('load', function () {

            const codeReader = new ZXing.BrowserDatamatrixCodeReader()
            console.log('ZXing code reader initialized');
            const resultSN = document.getElementById('result')
            const img = document.getElementById('img')
            const decodeFun = (e) => {

                // DECODE DATA MATRIX
                codeReader.decodeFromImage(img)
                    .then(result => {
                        console.log(result)
                        resultSN.textContent = result.text
                        //console.log(`Started decode for image from ${img.src}`)
                    })
                    .catch(err => {
                        console.error(err);
                        resultSN.textContent = err
                    });


            };

            //document.getElementById('button').addEventListener('click', decodeFun)
            //window.onload(decodeFun)
            decodeFun()

        }) -->

    </script>
</body>

</html>